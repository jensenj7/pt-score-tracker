<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PT Score Tracker</title>

  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<nav>
  <button onclick="showScreen('cadets')">Cadets</button>
  <button onclick="showScreen('pushups')">Pushups</button>
  <button onclick="showScreen('situps')">Situps</button>
  <button onclick="showScreen('run')">1.5 Mile</button>
  <button onclick="showScreen('sprint')">300m</button>
</nav>

<div id="cadets" class="screen active">
  <h2>Cadets</h2>

  <input id="newCadetName" placeholder="Cadet name">
  <button onclick="addCadet()">Add Cadet</button>

  <ul id="cadetList"></ul>

  <div class="admin-box">
    <button class="danger" onclick="exportToExcel()">Export Scores (CSV)</button>
  </div>
</div>

<div id="pushups" class="screen">
  <h2>Pushups</h2>
  <div class="timer">
    <span id="pushupTimer">01:00.00</span>
    <button onclick="startPushups()">Start</button>
    <button onclick="resetPushups()">Reset</button>
  </div>

  <div id="pushupList"></div>

  <div class="admin-box">
    <button class="danger" onclick="clearPushups()">Clear Pushup Scores</button>
  </div>
</div>

<div id="situps" class="screen">
  <h2>Situps</h2>
  <div class="timer">
    <span id="situpTimer">01:00.00</span>
    <button onclick="startSitups()">Start</button>
    <button onclick="resetSitups()">Reset</button>
  </div>

  <div id="situpList"></div>

  <div class="admin-box">
    <button class="danger" onclick="clearSitups()">Clear Situp Scores</button>
  </div>
</div>

<div id="run" class="screen">
  <h2>1.5 Mile Run</h2>
  <div class="timer">
    <span id="runTimer">00:00.00</span>
    <button onclick="startRun()">Start</button>
    <button onclick="resetRun()">Reset</button>
  </div>

  <div id="runList"></div>

  <div class="admin-box">
    <button class="danger" onclick="clearRunScores()">Clear Run Scores</button>
  </div>
</div>

<div id="sprint" class="screen">
  <h2>300 Meter Sprint</h2>
  <div class="timer">
    <span id="sprintTimer">00:00.00</span>
    <button onclick="startSprint()">Start</button>
    <button onclick="resetSprint()">Reset</button>
  </div>

  <div id="sprintList"></div>

  <div class="admin-box">
    <button class="danger" onclick="clearSprintScores()">Clear Sprint Scores</button>
  </div>
</div>

<!-- ===== Custom Confirmation Modal ===== -->
<div id="confirmOverlay" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.7); z-index:9999; align-items:center; justify-content:center;">
  <div style="background:#1f1f1f; color:#fff; width:min(92vw, 420px); border-radius:10px; padding:18px; border:1px solid #444;">
    <div style="font-size:18px; font-weight:700; margin-bottom:10px;">Confirm</div>
    <div id="confirmMessage" style="font-size:16px; margin-bottom:16px;"></div>
    <div style="display:flex; gap:10px; justify-content:flex-end;">
      <button onclick="confirmCancel()" style="padding:10px 14px; border-radius:8px; border:none; background:#444; color:#fff;">Cancel</button>
      <button onclick="confirmOk()" style="padding:10px 14px; border-radius:8px; border:none; background:#a83232; color:#fff; font-weight:700;">OK</button>
    </div>
  </div>
</div>

<script src="script.js" defer></script>

<script>
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker.register("./service-worker.js");
    });
  }
</script>

</body>
</html>
